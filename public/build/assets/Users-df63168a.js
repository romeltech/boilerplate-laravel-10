import{q as b,u as z,D as w,r as u,E as N,h as P,c as p,w as n,V as S,G as T,o as r,a as s,f as e,g as B,s as E,x as g,H as R,b as h,d as A,F as D,I as F,J as _,K as I,e as L,t as m,L as M,M as x,N as V,O as $,P as j}from"./app-5901e2bb.js";import{_ as q}from"./AppPageHeader-2ba62776.js";const G={class:"v-col-12"},H=e("thead",null,[e("tr",null,[e("th",{class:"text-left text-capitalize"},"Username"),e("th",{class:"text-left text-capitalize"},"Email"),e("th",{class:"text-left text-capitalize"},"Status"),e("th",{class:"text-right text-capitalize"},"Actions")])],-1),J={class:"d-flex align-center justify-end"},W={__name:"Users",setup(K){const k=b(),f=z(),i=w(),l=u({loading:!1,data:[]}),d=u(0),C=u(0),o=u(i.params&&i.params.page?i.params.page:1),v=async()=>{l.value.loading=!0,await T(k.token).get("/api/user/all?page="+o.value).then(a=>{d.value=a.data.last_page,o.value=a.data.current_page,C.value=a.data.total,l.value.data=a.data.data,l.value.loading=!1}).catch(a=>{l.value.loading=!1,console.log(a)})};N(o,(a,c)=>{a!=c&&(f.push({name:"PaginatedUsers",params:{page:o.value}}).catch(t=>{}),v(o.value))});const y=a=>{f.push({name:"EditUser",params:{id:a}}).catch(c=>{console.log(c)})},U=a=>{console.log("delete",a)};return P(()=>{v()}),(a,c)=>(r(),p(S,null,{default:n(()=>[s(q,{title:"Users"}),s(L,{class:"mb-3"},{default:n(()=>[e("div",G,[s(B,{loading:l.value.loading},{default:n(()=>[s(E,{class:"text-primary text-capitalize"},{default:n(()=>[g("Users")]),_:1}),s(R,null,{default:n(()=>[H,e("tbody",null,[(r(!0),h(D,null,A(l.value.data,t=>(r(),h("tr",{key:t.id},[e("td",null,m(t.username),1),e("td",null,m(t.email),1),e("td",null,[s(M,{class:"text-uppercase",size:"small",color:`${t.status=="active"?"success":"error"}`},{default:n(()=>[g(m(t.status),1)]),_:2},1032,["color"])]),e("td",null,[e("div",J,[s(x,{size:"small",onClick:()=>y(t.id),icon:V($),class:"mx-1"},null,8,["onClick","icon"]),s(x,{size:"small",onClick:()=>U(t.id),icon:V(j),class:"mx-1"},null,8,["onClick","icon"])])])]))),128))])]),_:1}),l.value.data.length==0?(r(),p(F,{key:0,class:"pa-3 text-center w-100"},{default:n(()=>[g("No records found")]),_:1})):_("",!0)]),_:1},8,["loading"]),d.value>1?(r(),p(I,{key:0,modelValue:o.value,"onUpdate:modelValue":c[0]||(c[0]=t=>o.value=t),class:"my-4",length:d.value,"total-visible":8,variant:"elevated","active-color":"primary",density:"comfortable",disabled:l.value.loading},null,8,["modelValue","length","disabled"])):_("",!0)])]),_:1})]),_:1}))}};export{W as default};
